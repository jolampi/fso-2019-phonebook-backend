{"version":3,"sources":["services/persons.js","components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","value","onChange","Notification","message","warning","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","warningStyle","style","PersonForm","onSubmit","nameValue","numberValue","onNameChange","onNumberChange","type","Persons","persons","filter","deleteContactOf","filterL","toLowerCase","filteredPersons","person","name","includes","map","key","number","onClick","App","useState","newName","setNewName","newNumber","setNewNumber","setFilter","setPersons","statusMessage","setStatusMessage","statusWarning","setStatusWarning","useEffect","personService","initialPersons","event","target","preventDefault","existingPerson","find","undefined","newPerson","concat","setTimeout","catch","error","window","confirm","updatedPerson","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06f9a843.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }\r\n","import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => (\r\n    <div>\r\n        filter shown with \r\n        <input value={value} onChange={onChange} />\r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, warning }) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const warningStyle = { ...notificationStyle, color: 'red' }\r\n\r\n    if (message === null) { return null }\r\n\r\n    return <div style={warning ? warningStyle : notificationStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ onSubmit, nameValue, numberValue, onNameChange, onNumberChange }) => (\r\n    <form onSubmit={onSubmit}>\r\n        name: <input value={nameValue} onChange={onNameChange} /><br />\r\n        number: <input value={numberValue} onChange={onNumberChange} /><br />\r\n        <button type=\"submit\">add</button>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons, filter, deleteContactOf }) => {\r\n    const filterL = filter.toLowerCase()\r\n    const filteredPersons = persons.filter(person =>\r\n        person.name.toLowerCase().includes(filterL)\r\n    )\r\n\r\n    const mapPersons = () => filteredPersons.map(person =>\r\n        <div key={person.id}>\r\n            {person.name} {person.number}\r\n            <button onClick={() => deleteContactOf(person)}>delete</button>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            {mapPersons()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React, { useState, useEffect } from 'react'\n\nimport personService from './services/persons'\n\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n    const MESSAGE_TIMEOUT = 6000\n\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filter, setFilter ] = useState('')\n    const [ persons, setPersons] = useState([])\n    const [ statusMessage, setStatusMessage ] = useState(null)\n    const [ statusWarning, setStatusWarning ] = useState(false)\n\n    useEffect(() => {\n        personService.getAll().then(initialPersons => setPersons(initialPersons))\n    }, [])\n\n    const deleteContactOf = (deletePerson) => {\n        if (window.confirm(`Delete ${deletePerson.name}?`)) {\n            personService.remove(deletePerson.id)\n            .then(() => {\n                setPersons(persons.filter(person => person.id !== deletePerson.id))\n                setStatusMessage(`Deleted ${deletePerson.name}`)\n                setTimeout(() => setStatusMessage(null), MESSAGE_TIMEOUT)\n            })\n            .catch(error => {\n                setStatusWarning(true)\n                setStatusMessage(`Information of ${deletePerson.name} has already been deleted from server`)\n                setTimeout(() => {\n                    setStatusWarning(false)\n                    setStatusMessage(null)\n                }, MESSAGE_TIMEOUT)\n            })\n        }\n    }\n\n    const newNameHandler = (event) => {\n        event.preventDefault()\n        const existingPerson = persons.find(person => person.name === newName)\n        if (existingPerson === undefined) {\n            personService\n                .create({ name: newName, number: newNumber })\n                .then(newPerson => {\n                    setPersons(persons.concat(newPerson))\n                    setStatusMessage(`Added ${newPerson.name}`)\n                    setTimeout(() => setStatusMessage(null), MESSAGE_TIMEOUT)\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .catch(error => {\n                    setStatusWarning(true)\n                    setStatusMessage(`Error: ${error.response.data.error}`)\n                    setTimeout(() => {\n                        setStatusWarning(false)\n                        setStatusMessage(null)\n                    }, MESSAGE_TIMEOUT)\n                })\n        } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n            personService\n                .update(existingPerson.id, { ...existingPerson, number: newNumber })\n                .then(updatedPerson => {\n                    setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n                    setStatusMessage(`Updated ${updatedPerson.name}`)\n                    setTimeout(() => setStatusMessage(null), MESSAGE_TIMEOUT)\n                    setNewName('')\n                    setNewNumber('')\n                })\n        }\n    }\n\n    const nameChangeHandler = (event) => setNewName(event.target.value)\n    const numberChangeHandler = (event) => setNewNumber(event.target.value)\n    const filterChangeHandler = (event) => setFilter(event.target.value)\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={statusMessage} warning={statusWarning} />\n            <Filter value={filter} onChange={filterChangeHandler} />\n            <h2>add a new</h2>\n            <PersonForm\n                onSubmit={newNameHandler}\n                nameValue={newName}\n                numberValue={newNumber}\n                onNameChange={nameChangeHandler}\n                onNumberChange={numberChangeHandler}\n            />\n            <h2>Numbers</h2>\n            <Persons persons={persons} filter={filter} deleteContactOf={deleteContactOf} />\n        </div>\n    )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}